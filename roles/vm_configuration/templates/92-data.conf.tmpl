[common]
CurrentVersion={{ customer.release|replace('R', '') }}
TargetVersion={{ customer.release|replace('R', '') }}
primary_relay_server_IP={{ rly_ip1_list|first }}
secondary_relay_server_IP={{ rly_ip1_list|last }}
mcIP={{ netconfig.ipaddress1 }}
ipaddress1={{ netconfig.ipaddress1 }}
ipaddress2={{ netconfig.ipaddress2 }}
isGeoServer=False
netscalar_ip_list={{ customer.primary.octets }}.53,{{ customer.primary.octets }}.54,{{ customer.primary.octets }}.55
netscaler_ip1={{ customer.primary.octets + '.53' if vm.name is not search('aio') else '' }}
netscaler_ip2={{ customer.primary.octets + '.54' if vm.name is not search('aio') else '' }}
netscaler_snip={{ customer.primary.octets }}.55
is4_ip_01={{ customer.primary.octets }}.6
isSNOWEnabled=No
isTelemetryEnabled=No
isATAEnabled=False
isRMSMigrationCustomer=False
{{ 'isCommonRelayServer=False' if (inventory_hostname is search('rly') and vm.name is not search('aio')) else '' }}
customer_name={{ customer.name }}
custNamePrefix={{ customer.primary.name_prefix }}
em7_db_vip={{ vip.db if vm.name is not search('aio') else em7_ip1_list[0] }}
em7_AdminPortalVIP={{ vip.prt if vm.name is not search('aio') else em7_ip1_list[0] }}
em7_AdminPortalVIPHostName={{ prt_hst_list[0] | regex_replace('[a-z]01', 'v01') if prt_hst_list is defined else customer.primary.name_prefix + 'em7prtv01' }}
em7_AdminPortalVIPFQDN={{ (prt_hst_list[0] | regex_replace('[a-z]01', 'v01') if prt_hst_list is defined else customer.primary.name_prefix + 'em7prtv01') + '.' + sysconfig.domain_name }}
living_objects_ip=
splunk_search_head_vip={{ vip.src if vm.name is not search('aio') else spl_ip1_list[0] }}
splunk_search_head_vip_FQDN={{ (splsrc_hst_list[0] | regex_replace('[a-z]01', 'hv01') if splsrc_hst_list is defined else customer.primary.name_prefix + 'splsrchv01') + '.' + sysconfig.domain_name }}
relay_server_vip={{ vip.rly if vm.name is not search('aio') else vip.rly_db }}
relayServerDBVIP={{ vip.rly_db }}
relay_ip_list={{ rly_ip1_list|join(',') }}
relay1_hostname={{ rly_hst_list|first }}
relay2_hostname={{ rly_hst_list|last }}
primary_db_server_ip={{ db_ip1_list[0] if db_ip1_list is defined else em7_ip1_list[0] }}
secondary_db_server2_ip={{ db_ip1_list[1] if db_ip1_list is defined else em7_ip1_list[0] }}
primary_em7_portal_server_ip={{ prt_ip1_list[0] if prt_ip1_list is defined else em7_ip1_list[0] }}
secondary_em7_portal_server_ip={{ prt_ip1_list[1] if prt_ip1_list is defined else em7_ip1_list[0] }}
{{ 'headend_indexer_ip_01=' + splunk.he_indexer01_ip if vm.name is search('aio') else '' }}
{{ 'headend_indexer_ip_02=None' if vm.name is search('aio') else '' }}
server_type={{ 'primary' if (inventory_hostname is search('rly01') or vm.name is search('aio')) else '' if inventory_hostname is search('splsrc') else 'secondary' }}
clm_server_type={{ 'active' if inventory_hostname is regex('(dpl|mas).*01') else 'standby' if inventory_hostname is regex('(dpl|mas).*02') else '' }}
dpl_server_type={{ 'active' if inventory_hostname is regex('(dpl|mas).*01') else 'standby' if inventory_hostname is regex('(dpl|mas).*02') else '' }}
active_clm_hostname={{ splmas_hst_list[0] if splmas_hst_list is defined else spl_hst_list[0] }}
active_dpl_hostname={{ spldpl_hst_list[0] if spldpl_hst_list is defined else spl_hst_list[0] }}
em7_user_name=em7admin
splunk_user_name=admin
em7_access_portal_cpu_core_count={{ prt_cpu_list[0] if prt_cpu_list is defined else 2 }}
em7_access_portal_ram_gb={{ prt_mem_list[0] if prt_mem_list is defined else em7_mem_list[0] }}
ntp_source_ip={{ sysconfig.ntp_server }}
domain_name={{ sysconfig.domain_name }}
installed_on_appliance={{ 'ESXiResource1' if (inventory_hostname[:-2]|int % 2 != 0 or hostvars[groups['vcenter'][0]]['information']['deptype'] == 'h') else 'ESXiResource2' }}
[headend]
indexer01_ip={{ splunk.he_indexer01_ip }}
indexer02_ip=None
searchhead01_ip={{ splunk.he_searchhead01_ip }}
searchhead02_ip={{ splunk.he_searchhead02_ip }}
deployment_server_ip={{ splunk.he_deployment_server_ip }}
tile_server_ip={{ splunk.tile_server }}
mom_relay_vip={{ splunk.mom_rly_vip }}
netflow_collector_ip=None
[em7]
appliances={{ appliances_list|join(',') }}
admin_portal_ip_list={{ prt_ip1_list|join(',') if prt_ip1_list is defined else em7_ip1_list[0] }}
primary_db_ip={{ db_ip1_list[0] if db_ip1_list is defined else em7_ip1_list[0] }}
secondary_db_ip={{ db_ip1_list[1] if db_ip1_list is defined else em7_ip1_list[0] }}
dc_ip_list={{ dc_ip1_list|join(',') if dc_ip1_list is defined else em7_ip1_list[0] }}
mc_ip_list={{ mc_ip1_list|join(',') if mc_ip1_list is defined else em7_ip1_list[0] }}
all_dc_ip_list={{ dc_ip1_list|join(',') if dc_ip1_list is defined else em7_ip1_list[0] }}
all_mc_ip_list={{ mc_ip1_list|join(',') if mc_ip1_list is defined else em7_ip1_list[0] }}
splunk_proxy={{ customer.primary.name_prefix }}mapprtv01.{{ sysconfig.domain_name }}
beta_proxy={{ customer.primary.name_prefix }}betaprtv01.{{ sysconfig.domain_name }}
ondemand_proxy={{ customer.primary.name_prefix }}odrprtv01.{{ sysconfig.domain_name }}
lo_proxy={{ customer.primary.name_prefix }}prtv01.{{ sysconfig.domain_name }}
pure_proxy={{ customer.primary.name_prefix }}dashprtv01.{{ sysconfig.domain_name }}
[is4]
is4_region=IS4_{{ customer.primary.name_prefix }}
[telemetry]
kafka_vip=None
relayng_vip=None
splunk_fwder_vip=None
kafka_ip_list=
relayng_ip_list=
telemetry_spl_fwd_ip_list=