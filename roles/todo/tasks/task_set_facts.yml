---
- name: define configure_ssh_keys
  set_fact:
    configure_ssh_keys: true
  when:
    - deploy | default(false) | bool
    - inventory_hostname in groups['bastion']
  tags: ssh_keys

- name: define rollback_ssh_keys
  set_fact:
    rollback_ssh_keys: true
  when:
    - rollback | default(false) | bool
    - inventory_hostname in groups['bastion']
  tags: ssh_keys

- name: define capcheck
  set_fact:
    capcheck: true
  when:
    - deploy | default(false) | bool
    - inventory_hostname in groups['vcenter']
  tags: capcheck

- name: define get_release
  set_fact:
    get_release: true
  when:
    - deploy | default(false) | bool
    - inventory_hostname in groups['stack']
  tags: get_release

- name: define create_vm
  set_fact:
    create_vm: true
  when:
    - deploy | default(false) | bool
    - inventory_hostname in groups['stack']
  tags: create_vm

- name: define check_requiretty
  set_fact:
    check_requiretty: true
  when:
    - deploy | default(false) | bool
    - inventory_hostname in groups['stack']
  tags: check_requiretty
