---
# vars file for roles/sanity
rly_db_user: "{{ RLY_DB_USER }}"
rly_db_pass: "{{ RLY_DB_PASS }}"
spl_admin_user: "{{ SPL_ADMIN_USER }}"
spl_admin_pass: "{{ SPL_ADMIN_PASS }}"
chrony_file: '/etc/chrony.conf'
relayweb_conf_file: '/opt/CSCO-CMS/relayweb/conf/common.properties'
rly_csco_rpms:
  - csco-cms-relay-syslogng
  - csco-cms-reportstore-scripts
  - csco-cms-backup
  - csco-cms-relay-utilities
  - CSCO-CMS-RelayDependencies
  - CSCO-CMS-ReportScheduler
  - csco-cms-relay-webservice
  - csco-cms-notification
  - CSCO-CMS-DataExtractor
  - csco-cms-relay-snmp
  - csco-cms-lb-automation
  - csco-cms-reportstore-server
  - CSCO-CMS-ReportingAccessory
  - csco-cms-decron-editor

rly_mariadb_rpms:
  - MariaDB-shared
  - MariaDB-common
  - MariaDB-client
  - MariaDB-server

rly_nfs_rpms:
  - nfs-utils
  - libnfsidmap

rly_db_list:
  - DataExtractor
  - automationdb
  - dedb
  - information_schema
  - mysql
  - performance_schema
  - relaydb
  - reportstore

rly_coral_services:
  - flower RUNNING
  - log_catcher RUNNING
  - logrotate RUNNING
  - mongo_monitoring RUNNING
  - mongod RUNNING
  - mongodb_maint RUNNING
  - node RUNNING
  - post-up RUNNING
  - rabbit_monitoring RUNNING
  - rabbitmq RUNNING
  - rabbitmq-controller EXITED
  - setup {{ 'RUNNING' if groups['rly']|length == 1 else 'EXITED' }}
  - web:nginx RUNNING
  - web:uwsgi RUNNING
  - workers:core.1 RUNNING
  - workers:default.1 RUNNING
  - workers:important.1 RUNNING
  - workers:local.1 RUNNING
  - workers:retries.1 RUNNING
  - workers:schedule.1 RUNNING
  - workers:subtask.1 RUNNING
  - workers:subtask.2 RUNNING
  - workers:task.1 RUNNING