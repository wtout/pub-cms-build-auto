---
# tasks file for integ_splunk
- block:
  - include_tasks: task_check_con_creds.yml
    when:
      - ansible_ssh_pass != postppp
  - include_tasks: task_create_directory_structure.yml
  - include_tasks: task_get_repo_creds.yml
  - include_tasks: task_clone_repos.yml
  - include_tasks: task_setup_env.yml
  - include_tasks: task_create_inventory.yml
  - include_tasks: task_get_creds_from_keeper.yml
  - include_tasks: task_update_vm_password.yml
  - include_tasks: task_update_variables_files.yml
  - include_tasks: task_install_splunk.yml
  - include_tasks: task_update_yum_conf.yml
    when: delete_proxy|default(false)|bool
  when: install_splunk | default(false) | bool
  tags: integ_splunk
  