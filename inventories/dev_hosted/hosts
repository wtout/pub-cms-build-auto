[bastion:vars]
  ansible_user="{{bastion.username}}"
  ansible_ssh_pass="{{bastion.password}}"
[bastion]
  bastion01 ansible_host="{{bastion.address[0] if bastion.address[0] is defined else ''}}"
  bastion02 ansible_host="{{bastion.address[1] if bastion.address[1] is defined else ''}}"

[vcenter:vars]
  ansible_user="{{vcenter.username | default('')}}"
  ansible_ssh_pass="{{vcenter.password | default('')}}"
[vcenter]
  vsconsole ansible_host="{{information.address}}"

[stack]
  [stack:children]
    em7
    linuxjs
    splunk
    relay

    [em7]
      [em7:vars]
        ansible_user="{{credentials.username}}"
        ansible_ssh_pass="{{credentials.password}}"
        ansible_become_pass="{{ansible_ssh_pass}}"
      [em7:children]
        em7db
        em7as
        em7mc
        em7dc

        [em7db]
          em7db[01:02]
        [em7as]
          em7as[01:02]
        [em7mc]
          em7mc[01:02]
        [em7dc]
          em7dc[01:08]

    [linuxjs]
      [linuxjs:vars]
        ansible_user="{{credentials.username}}"
        ansible_ssh_pass="{{credentials.password}}"
        ansible_become_pass="{{ansible_ssh_pass}}"
      [linuxjs]
        linuxjs[01:02]

    [splunk]
      [splunk:vars]
        ansible_user="{{credentials.username}}"
        ansible_ssh_pass="{{credentials.password}}"
        ansible_become_pass="{{ansible_ssh_pass}}"
      [splunk:children]
        splunksrc
        splunkind
        splunkmas
        splunkdpl

        [splunksrc]
          splunksrc[01:02]
        [splunkind]
          splunkind[01:02]
        [splunkmas]
          splunkmas[01:02]
        [splunkdpl]
          splunkdpl[01:02]

    [relay]
      [relay:vars]
        ansible_user="{{credentials.username}}"
        ansible_ssh_pass="{{credentials.password}}"
        ansible_become_pass="{{ansible_ssh_pass}}"
      [relay]
        relay[01:02]
