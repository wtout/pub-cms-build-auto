---
# Variables for vcenter
ssh_username: "{{hostvars[groups['bastion'][0]]['ansible_user'] if groups['bastion'][0] is defined else ''}}"
ssh_address: "{{hostvars[groups['bastion'][0]]['ansible_host'] if groups['bastion'][0] is defined else ''}}"
ssh_var: '-o ProxyCommand="ssh -W %h:%p -q {{ssh_username}}@{{ssh_address}}"'
ansible_ssh_common_args: "{{ssh_var if groups['bastion'] | length >= 1 else ''}}"

credentials:
  username: "{{VCENTER_USER}}"
  password: "{{VCENTER_PASS}}"

information:
  address: "{{datacenters[datacenter.name]['vsphere']}}"
  datacenter: "{{datacenter.name}}"
  deptype: "{{datacenters[datacenter.name]['deptype']}}"
  resources: "{{datacenter.resources if datacenter.resources != '' else datacenters[datacenter.name]['resources'] if datacenters[datacenter.name]['resources'] is defined else ''}}"
